import unittest
from creatures.genome import *
from creatures.creature import *
from world.map import *

map = Map(20, 10)

class testMap(unittest.TestCase):
    def test(self):
        # make a map
        centerNode = map.nodes[105]
        neighbors = [neighbor.index for neighbor in centerNode.neighbors]
        self.assertTrue(neighbors == [104, 114, 115, 106, 95, 94])

        self.assertTrue(centerNode.x == 10 and centerNode.y == 5)
        nextNode=map.nodes[135]
        dist=Map.getDistance(centerNode, nextNode)
        self.assertTrue(dist == 3)

        fleePath=Map.fleePath(nextNode, centerNode, safeDistance=7)
        self.assertTrue(Map.getDistance(centerNode, fleePath[-1])==7)

        # map.nodes[81].obstruction = 'something'
        map.nodes[82].obstruction = 'something'
        map.nodes[83].obstruction = 'something'
        map.nodes[84].obstruction = 'something'
        map.nodes[85].obstruction = 'something'
        map.nodes[86].obstruction = 'something'
        map.nodes[87].obstruction = 'something'
        path = Map.findPath(map.nodes[63], map.nodes[103])
        print ([node.index for node in path])
        self.assertTrue(len(path) == 6)

# 0    20    40    60    80    100    120    140    160    180
#   10    30    50    70    90    110    130    150    170    190
# 1    21    41    61    81    101    121    141    161    181
#   11    31    51    71    91    111    131    151    171    191
# 2    22    42    62    82    102    122    142    162    182
#   12    32    52    72    92    112    132    152    172    192
# 3    23    43    63    83    103    123    143    163    183
#   13    33    53    73    93    113    133    153    173    193
# 4    24    44    64    84    104    124    144    164    184
#   14    34    54    74    94    114    134    154    174    194
# 5    25    45    65    85    105    125    145    165    185
#   15    35    55    75    95    115    135    155    175    195
# 6    26    46    66    86    106    126    146    166    186
#   16    36    56    76    96    116    136    156    176    196
# 7    27    47    67    87    107    127    147    167    187
#   17    37    57    77    97    117    137    157    177    197
# 8    28    48    68    88    108    128    148    168    188
#   18    38    58    78    98    118    138    158    178    198
# 9    29    49    69    89    109    129    149    169    189
#   19    39    59    79    99    119    139    159    179    199
#  ___     ___     ___     ___     ___     ___
# /   \___/   \___/   \___/   \___/   \___/   \___/
# \___/   \___/   \___/   \___/   \___/   \___/   \
# /   \___/   \___/   \___/   \___/   \___/   \___/
# \___/   \___/   \___/   \___/   \___/   \___/   \
# /   \___/   \___/   \___/   \___/   \___/   \___/
# \___/   \___/   \___/   \___/   \___/   \___/   \
# /   \___/   \___/   \___/   \___/   \___/   \___/
# \___/   \___/   \___/   \___/   \___/   \___/   \
# /   \___/   \___/   \___/   \___/   \___/   \___/
# \___/   \___/   \___/   \___/   \___/   \___/   \

# .       .       .       .       .       .       .
#     .       .       .       .       .       .
# .       .       .       .       .       .       .
#     .       .       .       .       .       .
# .       .       .       .       .       .       .
#     .       .       .       .       .       .
# .       .       .       .       .       .       .
#     .       .       .       .       .       .
# .       .       .       .       .       .       .
#     .       .       .       .       .       .    

#     ========    ========    ========    ========    ========    ========    ========    ========    ========    ========    ========    ====
#       ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ==
#       ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||
#     ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||
# ====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||
# ======||||========||||========||||========||||========||||========||||========||||========||||========||||========||||========||||========||
# ======    ========    ========    ========    ========    ========    ========    ========    ========    ========    ========    ========
# ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ====
# ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||
# ||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||
# ||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||==
# ||||========||||========||||========||||========||||========||||========||||========||||========||||========||||========||||========||||====
#     ========    ========    ========    ========    ========    ========    ========    ========    ========    ========    ========    ====
#       ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ==
#       ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||
#     ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||
# ====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||
# ======||||========||||========||||========||||========||||========||||========||||========||||========||||========||||========||||========||
# ======    ========    ========    ========    ========    ========    ========    ========    ========    ========    ========    ========
# ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ====
# ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||
# ||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||
# ||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||==
# ||||========||||========||||========||||========||||========||||========||||========||||========||||========||||========||||========||||====
#     ========    ========    ========    ========    ========    ========    ========    ========    ========    ========    ========    ====
#       ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ==
#       ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||||        ||
#     ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||||||    ||||
# ====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||||||====||||
# ======||||========||||========||||========||||========||||========||||========||||========||||========||||========||||========||||========||
# ======    ========    ========    ========    ========    ========    ========    ========    ========    ========    ========    ========
# ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ====        ====

#      █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████
#        █████         █████         █████         █████         █████         █████         █████         █████         █████         █████         █████         ███
#        |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||
#      |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||
# █████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||
# ███████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||
# ███████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████
# █████         █████         █████         █████         █████         █████         █████         █████         █████         █████         █████         █████
# |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||
# |||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||
# |||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||███
# |||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████
#      █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████
#        █████         █████         █████         █████         █████         █████         █████         █████         █████         █████         █████         ███
#        |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||
#      |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||
# █████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||
# ███████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||
# ███████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████     █████████
# █████         █████         █████         █████         █████         █████         █████         █████         █████         █████         █████         █████
# |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||         |||||
# |||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||     |||||||||
# |||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||█████|||||||||███
# |||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████████|||||█████

def printMapGraphic():
    shades = ['|','█',' ']
    shadeIndex = 0
    rows2Print = 12
    rowLength = 120
    printOut = []
    for line in range(rows2Print):
        shadeIndex += 1
        shade1=shades[(shadeIndex + 1) % 3]
        shade2=shades[shadeIndex % 3]
        printOut.append (''.join([shade1*5 + shade2*9 for n in range(int(rowLength / 12) + 1)]) + shade1*5 + shade2*5)
        printOut.append (shade1*7 + ''.join([shade2*5 + shade1*9 for n in range(int(rowLength / 12) + 1)]) + shade2*3)
        shadeIndex += 1
        shade1=shades[shadeIndex % 3]
        shade2=shades[(shadeIndex + 1) % 3]
        printOut.append (shade1*7 + ''.join([shade2*5 + shade1*9 for n in range(int(rowLength / 12) + 1)]) + shade2*3)
        printOut.append (''.join([shade1*5 + shade2*9 for n in range(int(rowLength / 12) + 1)]) + shade1*5 + shade2*5)
    print(*printOut, sep='\n')


